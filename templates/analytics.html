{% extends "base.html" %}
{% block content %}

<h3>ðŸ“ˆ Campaign Analytics</h3>

<canvas id="chart"></canvas>

<script>
const data = {
  labels: [{% for r in data %}"Campaign {{r.campaign_id}}",{% endfor %}],
  datasets: [
    {
      label: "Sent",
      data: [{% for r in data %}{{r.sent}},{% endfor %}],
      backgroundColor: "blue"
    },
    {
      label: "Opens",
      data: [{% for r in data %}{{r.opens}},{% endfor %}],
      backgroundColor: "green"
    },
    {
      label: "Clicks",
      data: [{% for r in data %}{{r.clicks}},{% endfor %}],
      backgroundColor: "orange"
    }
  ]
};

new Chart(document.getElementById("chart"), {
  type: "bar",
  data: data
});
</script>

{% endblock %}
